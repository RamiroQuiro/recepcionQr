---
import LayoutLector from "../../../layouts/LayoutLector.astro";
import MainDashboard from "../../../components/MainDasboard.astro";
import Listado from "./componentes/Listado.jsx";
import BotonBackHistory from "../../../components/BotonBackHistory.astro";
import ScanerReceptor from "./componentes/ScanerReceptor.astro";
import BotonReceptor from "../components/BotonReceptor.astro";
const { uidEvento } = Astro.params;
const fetching = await fetch(`http://localhost:4321/api/${uidEvento}`);

const data = await fetching.json();
const evento = data.files;
---

<LayoutLector title="RecepcionQR">
  <MainDashboard>
    <div class="md:w-10/12 rounded flex items-center bg-white px-1 py-2 justify-between gap-5">
      <div class="relative">
        <BotonBackHistory clase="-top-5" />
      </div>
      <h2 class=" text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r to-fuchsia-500 from-pink-800 drop-shadow-[1px_1px_.5px_#1C212850]">
        {evento?.nombre}
      </h1>
      <div class="text-gray-600">scaner</div>
    </div>
    <Listado uidEvento={uidEvento} client:load />
    
  </MainDashboard>
  <div class="bg-gray-800/50 backdrop-blur-sm absolute top-0 left-0 flex items-center justify-center z-40 w-full h-full">
    <div
    id="videoEquivocado"
    class="absolute top-1/2 z-30 py-1 px-2 rounded-lg bg-red-500/80 backdrop-blur-sm text-gray-100 text-xl invisible font-bold duration-200">
      <p id="mensajeError"></p>
    </div>
    <BotonReceptor/>
        <div class="bg-white absolute  rounded p-5 items-center justify-center w-52 h-52">
           
            <ScanerReceptor/>
        </div>
  </div>
</LayoutLector>
