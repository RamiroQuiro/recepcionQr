---
import ListadoVideos from "./components/ListadoVideos";
import Layout from "../../layouts/Layout.astro";

const respuesta = await fetch("http://localhost:4321/api/listarvideos");
 const data = await respuesta.json();
---

<Layout title="Welcome to Astro.">
  <main
    class="bg-white min-h-screen w-full flex flex-col items-center justify-center"
  >
    <div
      class="w-1/2 h-[400px] bg-amber-200/50 backdrop-blur-sm flex flex-col p-5 rounded-lg items-center justify-normal"
    >
      <div class="text-center">
        <h2 class="mt-5 text-3xl font-bold text-gray-900">Sube el Video!</h2>
        <p class="mt-2 text-sm text-gray-400">
          Sube el video e indica el la mesa a relacionar
        </p>
      </div>
      <div class="flex items-center flex-wrap justify-between w-full gap-5 ">

        {
          data.files?.map((video) => (
            <div class="w-1/3 flex-shrink h-64 rounded-lg ">
              <video src={`/upload/${video}`} class="w-full h-full"></video>
              </div>
              ))
            }
            </div>
      <!-- <ListadoVideos client:load/> -->
    </div>
  </main>
</Layout>
