import{j as e}from"./jsx-runtime.391947bd.js";import{r as n}from"./index.ed373d49.js";import{s as f}from"./toast.421cbc24.js";function h(){const[r,a]=n.useState({nombre:"",foto:""}),[s,l]=n.useState(null),[i,m]=n.useState(null),u=t=>{a({...r,[t.target.name]:t.target.value})},c=t=>{a({...r,foto:t.target.files[0]}),l(URL.createObjectURL(t.target.files[0])),m(t.target.files[0].name.split(".").pop())},d=async t=>{t.preventDefault();const o=new FormData;o.append("nombre",r.nombre),o.append("foto",r.foto),o.append("extencion",i);const p=await fetch("/api/eventos",{method:"POST",body:o});f("ðŸ‘Œ Evento Cargado",3e3),await p.json(),l(null),a({nombre:"",foto:""})};return e.jsxs("form",{onSubmit:d,className:"flex flex-col items-center text-gray-700",children:[e.jsxs("label",{htmlFor:"nombre",className:"my-5 border flex items-center justify-between bg-white rounded-lg p-5 w-full gap-2 text-sm",children:[e.jsx("p",{children:"Nombre del Evento"}),e.jsx("input",{type:"text",id:"nombre",name:"nombre",value:r.nombre,required:!0,className:"rounded-lg ring-0 border p-2",onChange:u})]}),s?e.jsx("div",{className:"my-5 cursor-pointer text-center border flex items-center justify-between bg-white rounded-lg p-5 w-full h-[350px] gap-2 text-sm",children:e.jsx("img",{src:s,alt:"Preview",className:"mx-auto object-cover h-full w-auto"})}):e.jsxs("label",{htmlFor:"foto",className:"my-5 h-[350px] cursor-pointer text-center border flex items-center justify-between bg-white rounded-lg p-5 w-full gap-2 text-sm",children:[e.jsx("p",{className:"mx-auto animate-pulse text-xs font-medium",children:"Click aqui para cargar tu foto ðŸ“‚"}),e.jsx("input",{type:"file",id:"foto",name:"foto",required:!0,className:"hidden",onChange:c,accept:"image/*,video/*"})]}),e.jsx("button",{className:"disabled:bg-gray-200 cursor-pointer border flex items-center justify-center hover:bg-blue-400 duration-200 hover:ring-2 bg-blue-500 text-white font-medium rounded-lg p-2 text-center w-2/3 gap-2 text-sm",children:"Guardar"})]})}export{h as default};
